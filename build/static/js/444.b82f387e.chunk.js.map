{"version":3,"file":"static/js/444.b82f387e.chunk.js","mappings":"sSA8CA,UAtCqB,WACnB,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAASC,EAAAA,EAAAA,MAoBf,OAnBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,oFACQC,GAASC,EAAAA,EAAAA,KACbC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,UACfC,EAAAA,EAAAA,IAAM,gBAAiB,KAAMP,EAAOQ,QAEtCC,EAAAA,EAAAA,IAAWN,GAAQ,SAACO,GAClB,IAAMC,EAAU,GAChBD,EAASE,SAAQ,SAACC,GAChBF,EAAQG,MAAR,QACEC,GAAIF,EAAIE,IACLF,EAAIG,YAGXjB,EAASY,MAbb,4CADc,uBAAC,WAAD,wBAiBdM,KACC,CAACjB,EAAOQ,OACPV,EAAMoB,QAAU,EAAU,MAE5B,SAAC,IAAD,WACE,iBAAKC,UAAU,YAAf,WACE,gBAAKA,UAAU,WACf,UAAC,IAAD,4BAAmBnB,EAAOQ,SAC1B,gBAAKW,UAAU,8CAAf,SACGrB,EAAMsB,KAAI,SAACC,GAAD,OACT,SAAC,IAAD,CAAwBL,KAAMK,GAAfA,EAAKN","sources":["pages/CategoryPage.js"],"sourcesContent":["import Heading from \"components/layout/Heading\";\r\nimport Layout from \"components/layout/Layout\";\r\nimport { db } from \"firebase-app/firebase-config\";\r\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\r\nimport PostItem from \"module/post/PostItem\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst CategoryPage = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const params = useParams();\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const docRef = query(\r\n        collection(db, \"posts\"),\r\n        where(\"category.slug\", \"==\", params.slug)\r\n      );\r\n      onSnapshot(docRef, (snapshot) => {\r\n        const results = [];\r\n        snapshot.forEach((doc) => {\r\n          results.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        setPosts(results);\r\n      });\r\n    }\r\n    fetchData();\r\n  }, [params.slug]);\r\n  if (posts.length <= 0) return null;\r\n  return (\r\n    <Layout>\r\n      <div className=\"container\">\r\n        <div className=\"pt-10\"></div>\r\n        <Heading>Danh má»¥c {params.slug}</Heading>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-5 pb-10\">\r\n          {posts.map((item) => (\r\n            <PostItem key={item.id} data={item}></PostItem>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CategoryPage;\r\n"],"names":["useState","posts","setPosts","params","useParams","useEffect","docRef","query","collection","db","where","slug","onSnapshot","snapshot","results","forEach","doc","push","id","data","fetchData","length","className","map","item"],"sourceRoot":""}