"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[474],{5031:function(n,e,r){r.d(e,{nO:function(){return s},yd:function(){return i},kl:function(){return o}});r(2791);var t=r(184),o=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},i=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},s=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},6848:function(n,e,r){r.d(e,{_:function(){return h},O:function(){return x}});var t,o,i=r(1413),s=r(4925),c=r(168),a=(r(2791),r(6031)),d=r(184),u=["htmlFor","children"],l=a.ZP.label(t||(t=(0,c.Z)(["\n  color: ",";\n  font-weight: 500;\n  font-size: 14px;\n  cursor: pointer;\n"])),(function(n){return n.theme.gray4b})),h=function(n){var e=n.htmlFor,r=void 0===e?"":e,t=n.children,o=(0,s.Z)(n,u);return(0,d.jsx)(l,(0,i.Z)((0,i.Z)({htmlFor:r},o),{},{children:t}))},f=a.ZP.span(o||(o=(0,c.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"]))),x=function(n){var e=n.children,r=n.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,d.jsx)(f,{className:t,children:e})}},1538:function(n,e,r){r.r(e);var t,o=r(168),i=(r(2791),r(6031)),s=r(184),c=i.ZP.div(t||(t=(0,o.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));e.default=function(n){var e=n.children;return(0,s.jsx)(c,{children:(0,s.jsx)("table",{children:e})})}},8791:function(n,e,r){r.d(e,{i:function(){return t}});var t=r(1538).default},6474:function(n,e,r){r.r(e),r.d(e,{default:function(){return Z}});var t=r(3433),o=r(1413),i=r(5861),s=r(9439),c=r(7757),a=r.n(c),d=r(5031),u=r(4167),l=r(6848),h=r(8791),f=r(2791),x=r(184),p=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,x.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},g=r(7823),v=r(9062),j=r(8322),m=r(3585),b=r(1830),w=r.n(b),k=r(6871),y=r(763),C=r(9808),Z=function(){var n=(0,f.useState)([]),e=(0,s.Z)(n,2),r=e[0],c=e[1],b=(0,k.s0)(),Z=(0,f.useState)(void 0),N=(0,s.Z)(Z,2),L=N[0],M=N[1],O=(0,f.useState)(),z=(0,s.Z)(O,2),P=z[0],A=z[1],B=(0,f.useState)(0),I=(0,s.Z)(B,2),S=I[0],_=I[1],D=function(){var n=(0,i.Z)(a().mark((function n(){var e,i,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,v.IO)((0,v.hJ)(g.db,"categories"),(0,v.TQ)(P||0),(0,v.b9)(10)),(0,v.cf)(e,(function(n){var e=[];n.forEach((function(n){e.push((0,o.Z)({id:n.id},n.data()))})),c([].concat((0,t.Z)(r),e))})),n.next=4,(0,v.PL)(e);case 4:i=n.sent,s=i.docs[i.docs.length-1],A(s);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,f.useEffect)((function(){function n(){return(n=(0,i.Z)(a().mark((function n(){var e,r,t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,v.hJ)(g.db,"categories"),r=L?(0,v.IO)(e,(0,v.ar)("name","==",L)):(0,v.IO)(e,(0,v.b9)(10)),n.next=4,(0,v.PL)(r);case 4:t=n.sent,i=t.docs[t.docs.length-1],(0,v.cf)(e,(function(n){_(n.size)})),(0,v.cf)(r,(function(n){var e=[];n.forEach((function(n){e.push((0,o.Z)({id:n.id},n.data()))})),c(e)})),A(i);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[L]);var E=(0,C.a)().userInfo,F=function(){var n=(0,i.Z)(a().mark((function n(e){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((null===E||void 0===E?void 0:E.role)===m.xZ.ADMIN){n.next=3;break}return w().fire("Failed","You have no right to do this action","warning"),n.abrupt("return");case 3:r=(0,v.JU)(g.db,"categories",e),w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=(0,i.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return n.next=3,(0,v.oe)(r);case 3:w().fire("Deleted!","Your file has been deleted.","success");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),W=(0,y.debounce)((function(n){M(n.target.value)}),500);return E.role!==m.xZ.ADMIN&&E.role!==m.xZ.MOD?null:(0,x.jsxs)("div",{children:[(0,x.jsx)(j.Z,{title:"Categories",desc:"Manage your category",children:(0,x.jsx)(u.z,{kind:"ghost",height:"60px",to:"/manage/add-category",children:"Create category"})}),(0,x.jsx)("div",{className:"flex justify-end mb-10",children:(0,x.jsx)("input",{type:"text",placeholder:"Search category...",className:"px-5 py-4 border border-gray-300 rounded-lg outline-none",onChange:W})}),(0,x.jsxs)(h.i,{children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Id"}),(0,x.jsx)("th",{children:"Name"}),(0,x.jsx)("th",{children:"Slug"}),(0,x.jsx)("th",{children:"Status"}),(0,x.jsx)("th",{children:"Actions"})]})}),(0,x.jsx)("tbody",{children:r.length>0&&r.map((function(n){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:n.id}),(0,x.jsx)("td",{children:n.name}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"italic text-gray-400",children:n.slug})}),(0,x.jsxs)("td",{children:[Number(n.status)===m.bk.APPROVED&&(0,x.jsx)(l.O,{type:"success",children:"Approved"}),Number(n.status)===m.bk.UNAPPROVED&&(0,x.jsx)(l.O,{type:"warning",children:"Unapproved"})]}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"flex items-center text-gray-500 gap-x-3",children:[(0,x.jsx)(p,{onClick:function(){return b("/category/".concat(n.slug))}}),(0,x.jsx)(d.yd,{onClick:function(){return b("/manage/update-category?id=".concat(n.id))}}),(0,x.jsx)(d.nO,{onClick:function(){return F(n.id)}})]})})]},n.id)}))})]}),S>r.length&&(0,x.jsxs)("div",{className:"mt-10",children:[(0,x.jsx)(u.z,{onClick:D,className:"mx-auto",children:"Load more"}),S]})]})}},8322:function(n,e,r){r(2791);var t=r(184);e.Z=function(n){var e=n.title,r=void 0===e?"":e,o=n.desc,i=void 0===o?"":o,s=n.children;return(0,t.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:i})]}),s]})}}}]);
//# sourceMappingURL=474.a6d059a0.chunk.js.map