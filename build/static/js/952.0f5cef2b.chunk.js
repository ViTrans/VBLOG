"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[952,333],{8080:function(n,e,t){t.r(e);var r,i=t(168),a=(t(2791),t(6871)),o=t(6031),s=t(184),c=o.ZP.div(r||(r=(0,i.Z)(["\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  background-color: ",";\n  color: white;\n  .page-content {\n    max-width: 1000px;\n    margin: 0 auto;\n    text-align: center;\n  }\n  .logo {\n    display: inline-block;\n    margin-bottom: 40px;\n  }\n  .heading {\n    font-size: 60px;\n    font-weight: bold;\n    margin-bottom: 20px;\n  }\n  .description {\n    max-width: 800px;\n    margin: 0 auto 40px;\n  }\n  .back {\n    display: inline-block;\n    padding: 15px 30px;\n    color: white;\n    background-image: linear-gradient(\n      to right top,\n      ",",\n      ","\n    );\n    border-radius: 8px;\n    font-weight: 500;\n  }\n  .image {\n    max-width: 250px;\n    margin: 0 auto 40px;\n  }\n"])),(function(n){return n.theme.black}),(function(n){return n.theme.primary}),(function(n){return n.theme.secondary}));e.default=function(){var n=(0,a.s0)();return(0,s.jsx)(c,{children:(0,s.jsxs)("div",{className:"page-content",children:[(0,s.jsx)("img",{src:"/404.png",alt:"notfound",className:"image"}),(0,s.jsx)("h1",{className:"heading",children:"404 - Looks like you're lost."}),(0,s.jsx)("p",{className:"description",children:"Maybe this page used to exist or you just spelled something wrong. Chances are your spelled something wrong, so can you double check the URL?"}),(0,s.jsx)("button",{onClick:function(){return n("/")},className:"back",children:"Go back"})]})})}},9952:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var r,i,a=t(1413),o=t(5861),s=t(9439),c=t(168),d=t(7757),l=t.n(d),u=t(6031),m=t(2791),p=t(7386),h=t(7823),f=t(9062),x=t(9748),g=t(184),v=function(n){var e=n.categoryId,t=void 0===e?"":e,r=(0,m.useState)([]),i=(0,s.Z)(r,2),o=i[0],c=i[1];return(0,m.useEffect)((function(){var n=(0,f.IO)((0,f.hJ)(h.db,"posts"),(0,f.ar)("categoryId","==",t));(0,f.cf)(n,(function(n){var e=[];n.forEach((function(n){e.push((0,a.Z)({id:n.id},n.data()))})),c(e)}))}),[t]),!t||o.length<=0?null:(0,g.jsxs)("div",{className:"post-related mx-auto",children:[(0,g.jsx)(p.Z,{children:"B\xe0i vi\u1ebft li\xean quan"}),(0,g.jsx)("div",{className:"grid-layout grid-layout--primary",children:o.map((function(n){return(0,g.jsx)(x.Z,{data:n},n.id)}))})]})},b=t(6795),_=t(7149),j=t(238),y=t(8080),w=t(2185),N=function(n){var e=n.userId,t=void 0===e?"":e,r=(0,m.useState)({}),i=(0,s.Z)(r,2),a=i[0],c=i[1];return(0,m.useEffect)((function(){function n(){return(n=(0,o.Z)(l().mark((function n(){var e,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,f.JU)(h.db,"users",t),n.next=3,(0,f.QT)(e);case 3:(r=n.sent).data()&&c(r.data());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t]),t&&a.username?(0,g.jsxs)("div",{className:"author",children:[(0,g.jsx)("div",{className:"author-image",children:(0,g.jsx)("img",{src:null===a||void 0===a?void 0:a.avatar,alt:""})}),(0,g.jsxs)("div",{className:"author-content",children:[(0,g.jsx)("h3",{className:"author-name",children:null===a||void 0===a?void 0:a.fullname}),(0,g.jsx)("p",{className:"author-desc",children:null===a||void 0===a?void 0:a.description})]})]}):null},k=t(3504),Z=t(6871),I=t(9808),C=t(3585),E=t(4167),D=t(6431),z=t.n(D),S=t(1830),B=t.n(S),J=function(n){var e,t=n.comment,r=n.user,i=function(){var n=(0,o.Z)(l().mark((function n(e,t){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.uid===t)try{B().fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var n=(0,o.Z)(l().mark((function n(t){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isConfirmed){n.next=6;break}return n.next=3,(0,f.oe)((0,f.JU)(h.db,"comments",e));case 3:B().fire("Deleted!","Your imaginary file has been deleted.","success"),n.next=7;break;case 6:t.dismiss===B().DismissReason.cancel&&B().fire("Cancelled","Your imaginary file is safe :)","error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}catch(i){console.log(i)}else B().fire({icon:"error",title:"Oops...",text:"You don't have permission to delete this comment"});case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:"post-comment__item",children:[(0,g.jsx)("div",{className:"post-comment__item__avatar",children:(0,g.jsx)("img",{src:t.avatar,alt:""})}),(0,g.jsxs)("div",{className:"post-comment__item__content relative mb-5",children:[(0,g.jsxs)("div",{className:"post-comment__item__content__info",children:[(0,g.jsx)("h4",{className:"post-comment__item__content__info__name",children:t.username}),(0,g.jsx)("span",{className:"post-comment__item__content__info__date",children:(0,g.jsx)(z(),{className:"text-sm",fromNow:!0,children:null===(e=t.timestamp)||void 0===e?void 0:e.toDate()})})]}),(0,g.jsxs)("div",{className:"post-comment__item__content__text flex flex-col gap-y-5",children:[(0,g.jsx)("p",{children:t.comment}),(0,g.jsx)("div",{className:"post-comment__action absolute right-0 top-[100%] z-10",children:(null===r||void 0===r?void 0:r.uid)===(null===t||void 0===t?void 0:t.userId)&&(0,g.jsx)("button",{className:"btn-action",onClick:function(){return i(t.id,r.uid)},children:"X\xf3a"})})]})]})]})},L=u.ZP.div(r||(r=(0,c.Z)(["\n  .post-comment {\n    max-width: 1000px;\n    margin: 100px auto;\n    &__heading {\n      margin-bottom: 2rem;\n      font-weight: 600;\n    }\n    &__form {\n      margin-bottom: 2rem;\n      form {\n        .form-group {\n          textarea {\n            width: 100%;\n            height: 200px;\n            border: 1px solid #ccc;\n            border-radius: 8px;\n            padding: 1rem;\n            resize: none;\n          }\n        }\n      }\n    }\n    &__list {\n      .post-comment__item {\n        display: flex;\n        align-items: flex-start;\n        margin-bottom: 2rem;\n        border-radius: 8px;\n        &:last-child {\n          margin-bottom: 0;\n        }\n        &__avatar {\n          margin-right: 1rem;\n          width: 52px;\n          height: 52px;\n          img {\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n            border-radius: 100rem;\n          }\n        }\n        &__content {\n          padding: 1rem;\n          background-color: ",";\n          border-radius: 8px;\n          box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n          flex: 1;\n          &__info {\n            display: flex;\n            align-items: center;\n            margin-bottom: 1rem;\n            &__name {\n              font-weight: 600;\n              margin-right: 1rem;\n            }\n            &__date {\n              color: #999;\n            }\n          }\n          &__text {\n            p {\n              color: #333;\n            }\n          }\n        }\n      }\n    }\n  }\n  .btn {\n    display: block;\n    margin-left: auto;\n    &--primary {\n      background-color: ",";\n      color: #fff;\n      padding: 1rem 2rem;\n      border-radius: 8px;\n      border: none;\n      cursor: pointer;\n      transition: all 0.3s;\n      &:hover {\n        background-color: ",";\n        color: #fff;\n        opacity: 0.8;\n      }\n    }\n    &-action {\n      border: none;\n      color: ",";\n      transform: translate(-50%, 50%);\n    }\n  }\n  @media screen and (max-width: 1023.98px) {\n    .post-comment {\n      &__form {\n        form {\n          .form-group {\n            textarea {\n              height: 100px;\n            }\n          }\n        }\n      }\n    }\n    &__list {\n      .post-comment__item {\n        &__avatar {\n          max-width: 40px;\n          margin-right: 1rem;\n        }\n      }\n    }\n    .btn {\n      &--primary {\n        padding: 15px 20px;\n      }\n    }\n  }\n"])),(function(n){return n.theme.grayF3}),(function(n){return n.theme.primary}),(function(n){return n.theme.primary}),(function(n){return n.theme.black})),O=function(n){var e=n.postId,t=n.user,r=n.postName,i=m.useState(""),c=(0,s.Z)(i,2),d=c[0],u=c[1],p=m.useState([]),x=(0,s.Z)(p,2),v=x[0],b=x[1],_=m.useState(!1),j=(0,s.Z)(_,2),y=j[0],w=j[1];(0,m.useEffect)((function(){var n=function(){var n=(0,o.Z)(l().mark((function n(){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,f.IO)((0,f.hJ)(h.db,"comments"),(0,f.ar)("postId","==",e)),(0,f.cf)(t,(function(n){var e=[];n.forEach((function(n){e.push((0,a.Z)({id:n.id},n.data()))})),b(e)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var N=function(){var n=(0,o.Z)(l().mark((function n(i){var a;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.preventDefault(),w(!0),a=d,u(""),n.next=6,(0,f.ET)((0,f.hJ)(h.db,"comments"),{comment:a,username:t.fullname,avatar:t.avatar,userId:t.uid,postId:e,postName:r,timestamp:(0,f.Bt)()});case 6:w(!1);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsx)(L,{children:(0,g.jsxs)("div",{className:"post-comment",children:[(0,g.jsx)("div",{className:"post-comment__heading",children:(0,g.jsx)("h3",{className:"heading",children:"B\xecnh lu\u1eadn"})}),(0,g.jsx)("div",{className:"post-comment__form",children:(0,g.jsxs)("form",{children:[(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)("textarea",{placeholder:"Nh\u1eadp b\xecnh lu\u1eadn c\u1ee7a b\u1ea1n",value:d,onChange:function(n){return u(n.target.value)}})}),(0,g.jsx)("div",{className:"form-group",children:(0,g.jsx)(E.z,{type:"submit",onClick:N,className:"btn btn--primary",isLoading:y,disabled:!d.trim(),children:"G\u1eedi b\xecnh lu\u1eadn"})})]})}),v.length>0&&(0,g.jsx)("div",{className:"post-comment__list",children:v.map((function(n){return(0,g.jsx)(J,{comment:n,user:t},n.id)}))})]})})},T=u.ZP.div(i||(i=(0,c.Z)(["\n  padding-bottom: 100px;\n  .post {\n    &-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 40px;\n      margin: 40px 0;\n    }\n    &-feature {\n      width: 100%;\n      max-width: 640px;\n      height: 466px;\n      border-radius: 20px;\n    }\n    &-heading {\n      font-weight: bold;\n      font-size: 36px;\n      margin-bottom: 16px;\n    }\n    &-info {\n      flex: 1;\n    }\n    &-content {\n      max-width: 800px;\n      margin: 80px auto;\n    }\n  }\n  .author {\n    margin-top: 40px;\n    margin-bottom: 80px;\n    display: flex;\n    border-radius: 20px;\n    background-color: ",";\n    &-image {\n      width: 200px;\n      height: 200px;\n      flex-shrink: 0;\n      border-radius: inherit;\n    }\n    &-image img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    &-content {\n      flex: 1;\n      padding: 20px;\n    }\n    &-name {\n      font-weight: bold;\n      margin-bottom: 10px;\n      font-size: 20px;\n    }\n    &-desc {\n      font-size: 14px;\n      line-height: 2;\n    }\n  }\n  @media screen and (max-width: 1023.98px) {\n    padding-bottom: 40px;\n    .post {\n      &-header {\n        flex-direction: column;\n      }\n      &-feature {\n        height: auto;\n      }\n      &-heading {\n        font-size: 26px;\n      }\n      &-content {\n        margin: 40px 0;\n      }\n    }\n    .author {\n      flex-direction: column;\n      &-image {\n        width: 100%;\n        height: auto;\n      }\n    }\n  }\n"])),(function(n){return n.theme.grayF3})),U=function(){var n,e,t,r,i,c=(0,Z.UO)().slug,d=(0,m.useState)({}),u=(0,s.Z)(d,2),p=u[0],x=u[1];(0,m.useEffect)((function(){function n(){return(n=(0,o.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c){n.next=2;break}return n.abrupt("return");case 2:e=(0,f.IO)((0,f.hJ)(h.db,"posts"),(0,f.ar)("slug","==",c)),(0,f.cf)(e,(function(n){n.forEach((function(n){n.data()&&x((0,a.Z)({id:n.id},n.data()))}))}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[c]),(0,m.useEffect)((function(){document.body.scrollIntoView({behavior:"smooth",block:"start"})}),[c]);var E=(0,I.a)().userInfo;if(!c)return(0,g.jsx)(y.default,{});if(!p.title)return null;var D=p.user,z=null!==p&&void 0!==p&&null!==(n=p.createdAt)&&void 0!==n&&n.seconds?new Date(1e3*(null===p||void 0===p||null===(e=p.createdAt)||void 0===e?void 0:e.seconds)):new Date,S=new Date(z).toLocaleDateString("vi-VI");return(0,g.jsx)(T,{children:(0,g.jsx)(w.Z,{children:(0,g.jsxs)("div",{className:"container",children:[(0,g.jsxs)("div",{className:"post-header",children:[(0,g.jsx)(_.Z,{url:p.image,className:"post-feature"}),(0,g.jsxs)("div",{className:"post-info",children:[(0,g.jsx)(j.Z,{className:"mb-6",to:null===(t=p.category)||void 0===t?void 0:t.slug,children:null===(r=p.category)||void 0===r?void 0:r.name}),(0,g.jsx)("h1",{className:"post-heading",children:p.title}),(0,g.jsx)(b.Z,{authorName:p.user.fullname,date:S}),(null===E||void 0===E?void 0:E.role)===C.xZ.ADMIN&&(0,g.jsx)(k.rU,{to:"/manage/update-post?id=".concat(p.id),className:"inline-block px-4 py-2 mt-5 text-sm border border-gray-400 rounded-md",children:"Edit post"})]})]}),(0,g.jsxs)("div",{className:"post-content",children:[(0,g.jsx)("div",{className:"entry-content",dangerouslySetInnerHTML:{__html:p.content||""}}),(0,g.jsx)(N,{userId:D.id})]}),(0,g.jsx)(v,{categoryId:null===p||void 0===p||null===(i=p.category)||void 0===i?void 0:i.id}),(0,g.jsx)(O,{postId:null===p||void 0===p?void 0:p.id,user:E,postName:p.title})]})})})}}}]);
//# sourceMappingURL=952.0f5cef2b.chunk.js.map