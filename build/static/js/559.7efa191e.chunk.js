"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[559],{5456:function(e,n,r){r.d(n,{Y:function(){return c}});r(2791);var t=r(184),a=r(1413),i=r(4925),o=r(1134),s=["checked","children","control","name"],c=function(e){var n=e.checked,r=e.children,c=e.control,l=e.name,u=(0,i.Z)(e,s),d=(0,o.bc)({control:c,name:l,defaultValue:""}).field;return(0,t.jsxs)("label",{children:[(0,t.jsx)("input",(0,a.Z)((0,a.Z)({checked:n,type:"radio",className:"hidden-input"},d),u)),(0,t.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-full border flex items-center justify-center p-1  ".concat(n?"bg-primary border-primary text-white":"border-gray-200 text-transparent"),children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("span",{children:r})]})]})}},9248:function(e,n,r){r.d(n,{g:function(){return c},Y:function(){return l}});var t,a=r(168),i=(r(2791),r(6031)),o=r(184),s=i.ZP.div(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  row-gap: 10px;\n  margin-bottom: 25px;\n"]))),c=function(e){var n=e.children;return(0,o.jsx)(s,{children:n})},l=function(e){var n=e.children;return(0,o.jsx)("div",{className:"flex flex-wrap gap-5",children:n})}},3175:function(e,n,r){var t,a=r(1413),i=r(4925),o=r(168),s=(r(2791),r(6031)),c=r(1134),l=r(184),u=["name","type","children","control"],d=s.ZP.div(t||(t=(0,o.Z)(["\n  position: relative;\n  width: 100%;\n  input {\n    width: 100%;\n    padding: ",";\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 8px;\n    transition: all 0.2s linear;\n    color: ",";\n    font-size: 14px;\n  }\n  input::-webkit-input-placeholder {\n    color: #b2b3bd;\n  }\n  input::-moz-input-placeholder {\n    color: #b2b3bd;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"16px 60px 16px 20px":"16px 20px"}),(function(e){return e.theme.grayf1}),(function(e){return e.theme.black}));n.Z=function(e){var n=e.name,r=void 0===n?"":n,t=e.type,o=void 0===t?"text":t,s=e.children,p=e.control,h=(0,i.Z)(e,u),x=(0,c.bc)({control:p,name:r,defaultValue:""}).field;return(0,l.jsxs)(d,{hasIcon:!!s,children:[(0,l.jsx)("input",(0,a.Z)((0,a.Z)({id:r,type:o},x),h)),s?(0,l.jsx)("div",{className:"input-icon",children:s}):null]})}},3117:function(e,n,r){r.d(n,{I:function(){return t.Z}});var t=r(3175)},559:function(e,n,r){r.r(n);var t=r(1413),a=r(5861),i=r(7757),o=r.n(i),s=r(4167),c=r(5456),l=r(9248),u=r(3117),d=r(6848),p=r(9808),h=r(7823),x=r(9062),m=r(8322),f=(r(2791),r(1134)),b=r(577),g=r(333),v=r.n(g),j=r(1830),k=r.n(j),w=r(3585),y=r(184);n.default=function(){var e=(0,f.cI)({mode:"onChange",defaultValues:{name:"",slug:"",status:1,createdAt:new Date}}),n=e.control,r=e.handleSubmit,i=e.watch,g=e.reset,j=e.formState,Z=j.isValid,N=j.isSubmitting,A=(0,p.a)().userInfo,P=function(){var e=(0,a.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=2;break}return e.abrupt("return");case 2:if((null===A||void 0===A?void 0:A.role)===w.xZ.ADMIN){e.next=5;break}return k().fire("Failed","You have no right to do this action","warning"),e.abrupt("return");case 5:return(r=(0,t.Z)({},n)).slug=v()(r.name||r.slug,{lower:!0}),r.status=Number(r.status),a=(0,x.hJ)(h.db,"categories"),e.prev=9,e.next=12,(0,x.ET)(a,(0,t.Z)((0,t.Z)({},r),{},{createdAt:(0,x.Bt)()}));case 12:b.Am.success("Create new category successfully!"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),b.Am.error(e.t0.message);case 18:return e.prev=18,g({name:"",slug:"",status:1,createdAt:new Date}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[9,15,18,21]])})));return function(n){return e.apply(this,arguments)}}(),_=i("status");return(0,y.jsxs)("div",{children:[(0,y.jsx)(m.Z,{title:"New category",desc:"Add new category"}),(0,y.jsxs)("form",{onSubmit:r(P),autoComplete:"off\r ",children:[(0,y.jsxs)("div",{className:"form-layout",children:[(0,y.jsxs)(l.g,{children:[(0,y.jsx)(d._,{children:"Name"}),(0,y.jsx)(u.I,{control:n,name:"name",placeholder:"Enter your category name",required:!0})]}),(0,y.jsxs)(l.g,{children:[(0,y.jsx)(d._,{children:"Slug"}),(0,y.jsx)(u.I,{control:n,name:"slug",placeholder:"Enter your slug"})]})]}),(0,y.jsx)("div",{className:"form-layout",children:(0,y.jsxs)(l.g,{children:[(0,y.jsx)(d._,{children:"Status"}),(0,y.jsxs)(l.Y,{children:[(0,y.jsx)(c.Y,{name:"status",control:n,checked:Number(_)===w.bk.APPROVED,value:w.bk.APPROVED,children:"Approved"}),(0,y.jsx)(c.Y,{name:"status",control:n,checked:Number(_)===w.bk.UNAPPROVED,value:w.bk.UNAPPROVED,children:"Unapproved"})]})]})}),(0,y.jsx)(s.z,{kind:"primary",className:"mx-auto w-[200px]",type:"submit",disabled:N,isLoading:N,children:"Add new category"})]})]})}}}]);
//# sourceMappingURL=559.7efa191e.chunk.js.map