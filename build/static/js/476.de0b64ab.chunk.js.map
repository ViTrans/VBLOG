{"version":3,"file":"static/js/476.de0b64ab.chunk.js","mappings":"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","sources":["pages/DashboardPage.js"],"sourcesContent":["import { useAuth } from \"contexts/auth-context\";\r\nimport { db } from \"firebase-app/firebase-config\";\r\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\r\nimport DashboardHeading from \"module/dashboard/DashboardHeading\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { userRole } from \"utils/constants\";\r\nconst DashboardPageStyles = styled.div`\r\n  .statistical {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    margin-top: 20px;\r\n    .statistical__item {\r\n      width: 100%;\r\n      background: #ffffff;\r\n      box-shadow: 10px 10px 20px rgba(218, 213, 213, 0.15);\r\n      border-radius: 12px;\r\n      padding: 20px;\r\n      margin-bottom: 20px;\r\n      display: flex;\r\n      gap: 10px;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      .statistical__item__title {\r\n        flex: 1;\r\n        font-size: 18px;\r\n        font-weight: 500;\r\n        color: ${(props) => props.theme.gray80};\r\n      }\r\n      .statistical__item__number {\r\n        font-size: 24px;\r\n        font-weight: 500;\r\n        color: ${(props) => props.theme.primary};\r\n      }\r\n    }\r\n  }\r\n  .statistical__item:nth-child(1) {\r\n    background: #f1fbf7;\r\n  }\r\n  .statistical__item:nth-child(2) {\r\n    background: #f1f8ff;\r\n  }\r\n  .statistical__item:nth-child(3) {\r\n    background: #fff5f5;\r\n  }\r\n  .statistical__item:nth-child(4) {\r\n    background: #f1f8ff;\r\n  }\r\n  .statistical__item__icon {\r\n    font-size: 24px;\r\n  }\r\n  .statistical__item:nth-child(1) .statistical__item__icon {\r\n    color: #1dc071;\r\n  }\r\n  .statistical__item:nth-child(2) .statistical__item__icon {\r\n    color: ${(props) => props.theme.gray80};\r\n  }\r\n  .statistical__item:nth-child(3) .statistical__item__icon {\r\n    color: #ff0000;\r\n  }\r\n  .statistical__item:nth-child(4) .statistical__item__icon {\r\n    color: ${(props) => props.theme.gray80};\r\n  }\r\n  .statistical__item:nth-child(1) .statistical__item__number {\r\n    color: #1dc071;\r\n  }\r\n  .statistical__item:nth-child(2) .statistical__item__number {\r\n    color: ${(props) => props.theme.gray80};\r\n  }\r\n  .statistical__item:nth-child(3) .statistical__item__number {\r\n    color: #ff0000;\r\n  }\r\n  .statistical__item:nth-child(4) .statistical__item__number {\r\n    color: ${(props) => props.theme.gray80};\r\n  }\r\n  @media screen and (max-width: 1023.98px) {\r\n    .statistical {\r\n      .statistical__item {\r\n        align-items: center;\r\n        .statistical__item__title {\r\n          margin-bottom: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst DashboardPage = () => {\r\n  const [posts, setPosts] = React.useState([]);\r\n  const [users, setUsers] = React.useState([]);\r\n  const [categories, setCategories] = React.useState([]);\r\n  const [postPending, setPostPending] = React.useState([]);\r\n  const { userInfo } = useAuth();\r\n  // get posts from firebase\r\n  React.useEffect(() => {\r\n    async function fetchPosts() {\r\n      const docRef = query(collection(db, \"posts\"));\r\n      const queries = query(docRef, where(\"status\", \"==\", 1));\r\n      onSnapshot(queries, (snapshot) => {\r\n        const results = [];\r\n        snapshot.forEach((doc) => {\r\n          results.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        setPosts(results);\r\n      });\r\n    }\r\n    fetchPosts();\r\n  }, []);\r\n  // get post pending from firebase\r\n  React.useEffect(() => {\r\n    async function fetchPosts() {\r\n      const docRef = query(collection(db, \"posts\"));\r\n      const queries = query(docRef, where(\"status\", \"==\", 2));\r\n      onSnapshot(queries, (snapshot) => {\r\n        const results = [];\r\n        snapshot.forEach((doc) => {\r\n          results.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        setPostPending(results);\r\n      });\r\n    }\r\n    fetchPosts();\r\n  }, []);\r\n  // get users from firebase\r\n  React.useEffect(() => {\r\n    async function fetchUsers() {\r\n      const docRef = query(collection(db, \"users\"));\r\n      const queries = query(docRef, where(\"status\", \"==\", 1));\r\n      onSnapshot(queries, (snapshot) => {\r\n        const results = [];\r\n        snapshot.forEach((doc) => {\r\n          results.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        setUsers(results);\r\n      });\r\n    }\r\n    fetchUsers();\r\n  }, []);\r\n  // get categories from firebase\r\n  React.useEffect(() => {\r\n    async function fetchCategories() {\r\n      const docRef = query(collection(db, \"categories\"));\r\n      const queries = query(docRef);\r\n      onSnapshot(queries, (snapshot) => {\r\n        const results = [];\r\n        snapshot.forEach((doc) => {\r\n          results.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        setCategories(results);\r\n      });\r\n    }\r\n    fetchCategories();\r\n  }, []);\r\n  // get comments from posts firebase\r\n  // const [comments, setComments] = React.useState([]);\r\n  // React.useEffect(() => {\r\n  //   async function fetchComments() {\r\n  //     const docRef = query(collection(db, \"comments\"));\r\n  //     const queries = query(docRef);\r\n  //     onSnapshot(queries, (snapshot) => {\r\n  //       const results = [];\r\n  //       snapshot.forEach((doc) => {\r\n  //         results.push({\r\n  //           id: doc.id,\r\n  //           ...doc.data(),\r\n  //         });\r\n  //       });\r\n  //       setComments(results);\r\n  //     });\r\n  //   }\r\n  //   fetchComments();\r\n  // }, []);\r\n\r\n  if (userInfo.role !== userRole.ADMIN && userInfo.role !== userRole.MOD)\r\n    return null;\r\n  return (\r\n    <DashboardPageStyles>\r\n      <DashboardHeading\r\n        title=\"Dashboard\"\r\n        desc=\"Overview dashboard monitor\"\r\n      ></DashboardHeading>\r\n      <div\r\n        className=\"statistical\r\n\"\r\n      >\r\n        <div className=\"statistical__item\">\r\n          <NavLink to={\"/manage/posts\"} className=\"statistical__item__title\">\r\n            Bài Viết\r\n          </NavLink>\r\n          <div className=\"statistical__item__number\">{posts.length}</div>\r\n          <div className=\"statistical__item__icon\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"statistical__item\">\r\n          <NavLink to={\"/manage/user\"} className=\"statistical__item__title\">\r\n            Người Dùng\r\n          </NavLink>\r\n          <div className=\"statistical__item__number\">{users.length}</div>\r\n          <div className=\"statistical__item__icon\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"statistical__item\">\r\n          <NavLink to={\"/manage/posts\"} className=\"statistical__item__title\">\r\n            Bài Viết Chưa Duyệt\r\n          </NavLink>\r\n          <div className=\"statistical__item__number\">{postPending.length}</div>\r\n          <div className=\"statistical__item__icon\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"statistical__item\">\r\n          <NavLink to={\"/manage/category\"} className=\"statistical__item__title\">\r\n            Danh Mục\r\n          </NavLink>\r\n          <div className=\"statistical__item__number\">{categories.length}</div>\r\n          <div className=\"statistical__item__icon\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"statistical__item\">\r\n          <NavLink to={\"/manage/category\"} className=\"statistical__item__title\">\r\n            Bình Luận\r\n          </NavLink>\r\n          <div className=\"statistical__item__number\">{comments.length}</div>\r\n          <div className=\"statistical__item__icon\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"1.5\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </DashboardPageStyles>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;\r\n"],"names":["DashboardPageStyles","styled","props","theme","gray80","primary","React","posts","setPosts","users","setUsers","categories","setCategories","postPending","setPostPending","userInfo","useAuth","docRef","query","collection","db","queries","where","onSnapshot","snapshot","results","forEach","doc","push","id","data","fetchPosts","fetchUsers","fetchCategories","role","userRole","title","desc","className","to","length","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}